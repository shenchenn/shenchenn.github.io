name: Sync to OSS

on:
  push:
    branches:
      - master # 这里可以根据您的需要更改分支名称

jobs:
  sync:
    runs-on: ubuntu-latest
    steps:
      # - name: Checkout code
      #   uses: actions/checkout@v2
      # # 执行应用打包步骤
      # - name: Install dependencies and build
      #   run: |
      #     npm install
      #     npm run docs:build
      - name: Install ossutil
        run: |
          curl -L https://gosspublic.alicdn.com/ossutil/1.7.0/ossutil64 -o /usr/local/bin/ossutil
          chmod +x /usr/local/bin/ossutil
      - name: Sync files to OSS
        env:
          ACCESS_KEY_ID: ${{ secrets.ACCESS_KEY_ID }}
          ACCESS_KEY_SECRET: ${{ secrets.ACCESS_KEY_SECRET }}
        run: |
          ossutil cp -r ./ oss://web-chensnable/ --access-key-id=$ALIYUN_OSS_WEB_KEY --access-key-secret=$ALIYUN_OSS_WEB_SECRET --endpoint=your-endpoint

